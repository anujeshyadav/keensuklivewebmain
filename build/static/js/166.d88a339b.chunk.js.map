{"version":3,"sources":["pages/shop/ShopGridFilter.js"],"names":["connect","state","products","productData","_ref","location","_useState","useState","_useState2","_slicedToArray","layout","setLayout","_useState3","_useState4","sortType","setSortType","_useState5","_useState6","sortValue","setSortValue","_useState7","_useState8","filterSortType","setFilterSortType","_useState9","_useState10","filterSortValue","setFilterSortValue","_useState11","_useState12","offset","setOffset","_useState13","_useState14","currentPage","setCurrentPage","_useState15","_useState16","currentData","setCurrentData","_useState17","_useState18","sortedProducts","setSortedProducts","pathname","useEffect","getSortedProducts","filterSortedProducts","slice","React","createElement","Fragment","MetaTags","name","content","BreadcrumbsItem","to","process","LayoutOne","headerTop","Breadcrumb","className","ShopTopbarFilter","getLayout","getFilterSortParams","productCount","length","sortedProductCount","getSortParams","ShopProducts","Paginator","totalRecords","pageLimit","pageNeighbours","pageContainerClass","pagePrevText","pageNextText"],"mappings":"iPA0GeA,6BANS,SAAAC,GACpB,MAAM,CACFC,SAAUD,EAAME,YAAYD,YAIrBF,EA9FQ,SAAHI,GAA8B,IAAzBC,EAAQD,EAARC,SAAUH,EAAQE,EAARF,SAC/BI,EAA4BC,mBAAS,qBAAoBC,EAAAC,YAAAH,EAAA,GAAlDI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,EAAgCL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,EAAkCT,mBAAS,IAAGU,EAAAR,YAAAO,EAAA,GAAvCE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,EAA4Cb,mBAAS,IAAGc,EAAAZ,YAAAW,EAAA,GAAjDE,EAAcD,EAAA,GAAEE,EAAiBF,EAAA,GACxCG,EAA8CjB,mBAAS,IAAGkB,EAAAhB,YAAAe,EAAA,GAAnDE,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,GAC1CG,EAA4BrB,mBAAS,GAAEsB,EAAApB,YAAAmB,EAAA,GAAhCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,EAAsCzB,mBAAS,GAAE0B,EAAAxB,YAAAuB,EAAA,GAA1CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,EAAsC7B,mBAAS,IAAG8B,EAAA5B,YAAA2B,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,EAA4CjC,mBAAS,IAAGkC,EAAAhC,YAAA+B,EAAA,GAAjDE,EAAcD,EAAA,GAAEE,EAAiBF,EAAA,GAGjCG,EAAYvC,EAAZuC,SAwBP,OARAC,qBAAU,WACN,IAAIH,EAAiBI,YAAkB5C,EAAUY,EAAUI,GACrD6B,EAAuBD,YAAkBJ,EAAgBpB,EAAgBI,GAE/EiB,EADAD,EAAiBK,GAEjBR,EAAeG,EAAeM,MAAMlB,EAAQA,EAtB9B,OAuBf,CAACA,EAAQ5B,EAAUY,EAAUI,EAAWI,EAAgBI,IAGvDuB,IAAAC,cAACC,WAAQ,KACLF,IAAAC,cAACE,IAAQ,KACLH,IAAAC,cAAA,aAAO,qBACPD,IAAAC,cAAA,QAAMG,KAAK,cAAcC,QAAQ,6DAGrCL,IAAAC,cAACK,kBAAe,CAACC,GAA6B,KAAK,QACnDP,IAAAC,cAACK,kBAAe,CAACC,GAAIC,GAAyBb,GAAU,QAExDK,IAAAC,cAACQ,IAAS,CAACC,UAAU,WAEjBV,IAAAC,cAACU,IAAU,MAEXX,IAAAC,cAAA,OAAKW,UAAU,0BACXZ,IAAAC,cAAA,OAAKW,UAAU,aACXZ,IAAAC,cAAA,OAAKW,UAAU,OACXZ,IAAAC,cAAA,OAAKW,UAAU,aAEXZ,IAAAC,cAACY,IAAgB,CAACC,UAzC5B,SAACrD,GACfC,EAAUD,IAwCsDsD,oBAhCxC,SAAClD,EAAUI,GACnCK,EAAkBT,GAClBa,EAAmBT,IA8BuF+C,aAAc/D,EAASgE,OAAQC,mBAAoB7B,EAAY4B,OAAQhE,SAAUA,EAAUkE,cArCnL,SAACtD,EAAUI,GAC7BH,EAAYD,GACZK,EAAaD,MAsCW+B,IAAAC,cAACmB,IAAY,CAAC3D,OAAQA,EAAQR,SAAUoC,IAGxCW,IAAAC,cAAA,OAAKW,UAAU,0CACXZ,IAAAC,cAACoB,IAAS,CACNC,aAAc7B,EAAewB,OAC7BM,UArDlB,GAsDkBC,eAAgB,EAChB1C,UAAWA,EACXG,YAAaA,EACbC,eAAgBA,EAChBuC,mBAAmB,YACnBC,aAAa,OACbC,aAAa","file":"static/js/166.d88a339b.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\nimport React, { Fragment, useState, useEffect } from 'react';\nimport MetaTags from 'react-meta-tags';\nimport Paginator from 'react-hooks-paginator';\nimport { BreadcrumbsItem } from 'react-breadcrumbs-dynamic';\nimport { connect } from 'react-redux';\nimport { getSortedProducts } from '../../helpers/product';\nimport LayoutOne from '../../layouts/LayoutOne';\nimport Breadcrumb from '../../wrappers/breadcrumb/Breadcrumb';\nimport ShopTopbarFilter from '../../wrappers/product/ShopTopbarFilter';\nimport ShopProducts from '../../wrappers/product/ShopProducts';\n\nconst ShopGridFilter = ({location, products}) => {\n    const [layout, setLayout] = useState('grid three-column');\n    const [sortType, setSortType] = useState('');\n    const [sortValue, setSortValue] = useState('');\n    const [filterSortType, setFilterSortType] = useState('');\n    const [filterSortValue, setFilterSortValue] = useState('');\n    const [offset, setOffset] = useState(0);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [currentData, setCurrentData] = useState([]);\n    const [sortedProducts, setSortedProducts] = useState([]);\n\n    const pageLimit = 15;\n    const {pathname} = location;\n\n    const getLayout = (layout) => {\n        setLayout(layout)\n    }\n\n    const getSortParams = (sortType, sortValue) => {\n        setSortType(sortType);\n        setSortValue(sortValue);\n    }\n\n    const getFilterSortParams = (sortType, sortValue) => {\n        setFilterSortType(sortType);\n        setFilterSortValue(sortValue);\n    }\n\n    useEffect(() => {\n        let sortedProducts = getSortedProducts(products, sortType, sortValue);\n        const filterSortedProducts = getSortedProducts(sortedProducts, filterSortType, filterSortValue);\n        sortedProducts = filterSortedProducts;\n        setSortedProducts(sortedProducts);\n        setCurrentData(sortedProducts.slice(offset, offset + pageLimit));\n    }, [offset, products, sortType, sortValue, filterSortType, filterSortValue ]);\n\n    return (\n        <Fragment>\n            <MetaTags>\n                <title>Flone | Shop Page</title>\n                <meta name=\"description\" content=\"Shop page of flone react minimalist eCommerce template.\" />\n            </MetaTags>\n\n            <BreadcrumbsItem to={process.env.PUBLIC_URL + '/'}>Home</BreadcrumbsItem>\n            <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>Shop</BreadcrumbsItem>\n\n            <LayoutOne headerTop=\"visible\">\n                {/* breadcrumb */}\n                <Breadcrumb />\n\n                <div className=\"shop-area pt-95 pb-100\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-lg-12\">\n                                {/* shop topbar filter */}\n                                <ShopTopbarFilter getLayout={getLayout} getFilterSortParams={getFilterSortParams} productCount={products.length} sortedProductCount={currentData.length} products={products} getSortParams={getSortParams}/>\n\n                                {/* shop page content default */}\n                                <ShopProducts layout={layout} products={currentData} />\n\n                                {/* shop product pagination */}\n                                <div className=\"pro-pagination-style text-center mt-30\">\n                                    <Paginator\n                                        totalRecords={sortedProducts.length}\n                                        pageLimit={pageLimit}\n                                        pageNeighbours={2}\n                                        setOffset={setOffset}\n                                        currentPage={currentPage}\n                                        setCurrentPage={setCurrentPage}\n                                        pageContainerClass=\"mb-0 mt-0\"\n                                        pagePrevText=\"«\"\n                                        pageNextText=\"»\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </LayoutOne>\n        </Fragment>\n    )\n}\n\nShopGridFilter.propTypes = {\n  location: PropTypes.object,\n  products: PropTypes.array\n}\n\nconst mapStateToProps = state => {\n    return{\n        products: state.productData.products\n    }\n}\n\nexport default connect(mapStateToProps)(ShopGridFilter);"],"sourceRoot":""}