{"version":3,"sources":["components/firbase_config.js","pages/other/LoginRegister.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAuth","i","LoginRegister","props","onChangeHandler","event","setState","selectedFile","target","files","selectedName","name","handlechange","e","preventDefault","value","ConfigureCaptcha","window","recaptchaVerifier","RecaptchaVerifier","size","callback","response","console","log","defaultCountry","newConfigureCaptcha","onSignInSubmit","appVerifier","number","state","mobile","signInWithPhoneNumber","then","confirmationResult","swal","catch","error","data","onRegistrationOtpverify","code","otp","confirm","res","finalstepRes","err","document","getElementById","innerText","loginHandler","L_Password","axiosConfig","post","password","localStorage","setItem","JSON","stringify","user","token","_id","history","push","msg","loginText","changeHandler","handleStartOtpSendReg","RegistrationView","scrollTo","Register","FormData","append","fullname","email","gender","city","dob","cnfrmpassword","values","keys","key","otpMsg","message","submitHandler","userimg","LayoutOne","headerTop","id","className","Tab","Container","defaultActiveKey","Nav","variant","Item","Link","eventKey","Content","Pane","style","color","Form","onSubmit","this","Label","Input","type","maxLength","required","placeholder","onChange","method","Button","Component"],"mappings":"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","file":"static/js/167.ec1c860b.chunk.js","sourcesContent":["// // Import the functions you need from the SDKs you need\r\n// import { initializeApp } from \"firebase/app\";\r\n// import { getAnalytics } from \"firebase/analytics\";\r\n\r\n// const firebaseConfig = {\r\n//   apiKey: \"AIzaSyAB_4Zf8bVwCHT0VS8mLfKr7rPwlvNovQE\",\r\n//   authDomain: \"astrologically-a6df9.firebaseapp.com\",\r\n//   projectId: \"astrologically-a6df9\",\r\n//   storageBucket: \"astrologically-a6df9.appspot.com\",\r\n//   messagingSenderId: \"648031265378\",\r\n//   appId: \"1:648031265378:web:2d5de191dc007341b7a73b\",\r\n//   measurementId: \"G-KMQF8WY6LY\",\r\n// };\r\n\r\n// const app = initializeApp(firebaseConfig);\r\n// const analytics = getAnalytics(app);\r\n// export default analytics;\r\n\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDXAAHwIaM_8XEHhFtm8K4N6IIq75YZYtk\",\r\n  authDomain: \"astrootp-e1732.firebaseapp.com\",\r\n  projectId: \"astrootp-e1732\",\r\n  storageBucket: \"astrootp-e1732.appspot.com\",\r\n  messagingSenderId: \"170824197254\",\r\n  appId: \"1:170824197254:web:9fb7abbd086ac920975d07\",\r\n  measurementId: \"G-ZTJP3WZCQ3\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n// const analytics = getAnalytics(app);\r\nexport const auth = getAuth(app);\r\n","import React, { Fragment, Component } from \"react\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport axios from \"axios\";\r\nimport axiosConfig from \"./../../axiosConfig\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport { Label, Input, Form, Button } from \"reactstrap\";\r\nimport swal from \"sweetalert\";\r\n// import OtpInput from \"react-otp-input\";\r\nimport { CgSpinner } from \"react-icons/cg\";\r\nimport { auth } from \"../../components/firbase_config\";\r\nimport { RecaptchaVerifier, signInWithPhoneNumber } from \"firebase/auth\";\r\n\r\nexport default class LoginRegister extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      L_Password: \"\",\r\n      Register: \"Register\",\r\n      RegistrationView: true,\r\n      loginText: \"Login\",\r\n      fullname: \"\",\r\n      email: \"\",\r\n      mobile: \"\",\r\n      dob: \"\",\r\n      gender: \"\",\r\n      city: \"\",\r\n      userimg: \"\",\r\n      selectedName: \"\",\r\n      password: \"\",\r\n      cnfrmpassword: \"\",\r\n      selectedFile: null,\r\n      otp: \"\",\r\n      otpMsg: \"\",\r\n    };\r\n  }\r\n  //Image Submit Handler\r\n  onChangeHandler = (event) => {\r\n    this.setState({ selectedFile: event.target.files[0] });\r\n    this.setState({ selectedName: event.target.files[0].name });\r\n    // console.log(event.target.files[0]);\r\n  };\r\n\r\n  // onSuccesotpandLogin = () => {\r\n  //   axiosConfig\r\n  //     .post(`/user/userVryfyotp`, {\r\n  //       mobile: parseInt(this.state.mobile),\r\n  //       otp: \"123456\",\r\n  //     })\r\n  //     .then((response) => {\r\n  //       console.log(\"@@@####\", response.data);\r\n  //       // let id = response.data.user;\r\n  //       if (response.data.status === true) {\r\n  //         this.setState({ otpMsg: response.data.msg });\r\n  //         localStorage.setItem(\r\n  //           \"userData\",\r\n  //           JSON.stringify(response?.data?.data)\r\n  //         );\r\n  //         localStorage.setItem(\"token\", JSON.stringify(response?.data?.token));\r\n  //         localStorage.setItem(\r\n  //           \"user_id\",\r\n  //           JSON.stringify(response?.data?.data?._id)\r\n  //         );\r\n  //         localStorage.setItem(\r\n  //           \"user_mobile_no\",\r\n  //           JSON.stringify(response?.data?.data?.mobile)\r\n  //         );\r\n  //         if (response.data.msg === \"otp verified\") {\r\n  //           swal(\"otp verified Successfully\");\r\n  //           // window.location.replace('/')\r\n  //           this.props.history.push(\"/\");\r\n  //         }\r\n  //       }\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.log(error);\r\n  //       //this.setState({ errormsg: error });\r\n  //     });\r\n  // };\r\n\r\n  handlechange = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  ConfigureCaptcha = () => {\r\n    window.recaptchaVerifier = new RecaptchaVerifier(\r\n      \"sign-in-button\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: (response) => {\r\n          console.log(response);\r\n          console.log(\"verified captcha\");\r\n        },\r\n        defaultCountry: \"IN\",\r\n      },\r\n      auth\r\n    );\r\n  };\r\n  newConfigureCaptcha = () => {\r\n    window.recaptchaVerifier = new RecaptchaVerifier(\r\n      \"sign-in-button\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: (response) => {\r\n          console.log(response);\r\n          console.log(\"Verified captcha\");\r\n        },\r\n        defaultCountry: \"IN\",\r\n      },\r\n      auth\r\n    );\r\n  };\r\n  onSignInSubmit = () => {\r\n    // e.preventDefault();\r\n    this.newConfigureCaptcha();\r\n    const appVerifier = window.recaptchaVerifier;\r\n\r\n    const number = \"+91\" + this.state.mobile;\r\n\r\n    console.log(\"login mobile no:\" + number);\r\n    signInWithPhoneNumber(auth, number, appVerifier)\r\n      .then((confirmationResult) => {\r\n        window.confirmationResult = confirmationResult;\r\n        console.log(\"OTP has been sent\", confirmationResult);\r\n        swal(\"OTP send Succesfully \");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data);\r\n        // Error; SMS not sent\r\n        // this.setState({ loginText: \"Login\" });\r\n        swal(\"SMS Not send\", \"Server Error\");\r\n        // ...\r\n      });\r\n  };\r\n\r\n  onRegistrationOtpverify = (e) => {\r\n    e.preventDefault();\r\n    let code = this.state.otp;\r\n    console.log(code);\r\n    window.confirmationResult\r\n      .confirm(code)\r\n      .then(async (res) => {\r\n        console.log(\"User_Verified\", res);\r\n        this.finalstepRes();\r\n      })\r\n      .catch(async (err) => {\r\n        console.log(err);\r\n        const otptext = document.getElementById(\"otptext\");\r\n        otptext.innerText = \"OTP Does Not Match, Try again\";\r\n        // swal(\"Otp Does Not Veryfied\");\r\n      });\r\n  };\r\n\r\n  // OnloginVerifyOTP = (e) => {\r\n  //   e.preventDefault();\r\n  //   let code = this.state.otp;\r\n  //   window.confirmationResult\r\n  //     .confirm(code)\r\n  //     .then(async (res) => {\r\n  //       console.log(\"User_Verified\", res);\r\n  //       // this.onSuccesotpandLogin();\r\n  //     })\r\n  //     .catch(async (err) => {\r\n  //       console.log(err);\r\n  //       const otptext = document.getElementById(\"otptext\");\r\n  //       otptext.innerText = \"OTP Does Not Match, Try again\";\r\n  //       // swal(\"Otp Does Not Veryfied\");\r\n  //     });\r\n  // };\r\n\r\n  loginHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (this.state.mobile && this.state.L_Password) {\r\n      await axiosConfig\r\n        .post(`/user/loginWithPassword`, {\r\n          // .post(`/user/userlogin`, {\r\n          mobile: this.state.mobile,\r\n          password: this.state.L_Password,\r\n        })\r\n        .then((response) => {\r\n          // console.log(\"userLogin\", response.data?.data.msg);\r\n\r\n          localStorage.setItem(\r\n            \"userData\",\r\n            JSON.stringify(response?.data?.user)\r\n          );\r\n          localStorage.setItem(\"token\", JSON.stringify(response?.data?.token));\r\n          localStorage.setItem(\r\n            \"user_id\",\r\n            JSON.stringify(response?.data?.user?._id)\r\n          );\r\n          localStorage.setItem(\r\n            \"user_mobile_no\",\r\n            JSON.stringify(response?.data?.user?.mobile)\r\n          );\r\n          this.props.history.push(\"/\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response);\r\n          if (error.response?.data.msg === \"Incorrect Password\") {\r\n            swal(\"Error!\", \"Incorrect Pawword \");\r\n          }\r\n          if (error.response?.data?.msg === \"User Doesnot Exist\") {\r\n            swal(\"Error!\", \"User doesn't Exist\", \"error\");\r\n            this.setState({ loginText: \"Login\" });\r\n          }\r\n          //\r\n        });\r\n    } else swal(\"Please Enter in Input BOX\");\r\n  };\r\n\r\n  changeHandler = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleStartOtpSendReg = () => {\r\n    this.ConfigureCaptcha();\r\n    this.setState({ RegistrationView: false });\r\n    window.scrollTo(0, 0);\r\n    const appVerifier = window.recaptchaVerifier;\r\n    let number = \"+91\" + this.state.mobile;\r\n\r\n    signInWithPhoneNumber(auth, number, appVerifier)\r\n      .then((confirmationResult) => {\r\n        swal(\"otp has been sent\");\r\n        window.confirmationResult = confirmationResult;\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data);\r\n        // Error; SMS not sent\r\n        this.setState({ Register: \"Register\" });\r\n        swal(\"OTP Not Send\", \"Some Error Occured Try again\");\r\n\r\n        // swal(\"SMS Not send\", \"Server Error\");\r\n        // ...\r\n      });\r\n  };\r\n\r\n  finalstepRes = () => {\r\n    const data = new FormData();\r\n    data.append(\"fullname\", this.state.fullname);\r\n    data.append(\"email\", this.state.email);\r\n    data.append(\"mobile\", this.state.mobile);\r\n    data.append(\"gender\", this.state.gender);\r\n    data.append(\"city\", this.state.city);\r\n    data.append(\"dob\", this.state.dob);\r\n    data.append(\"password\", this.state.password);\r\n    data.append(\"cnfmPassword\", this.state.cnfrmpassword);\r\n    if (this.state.selectedFile !== null) {\r\n      data.append(\"userimg\", this.state.selectedFile, this.state.selectedName);\r\n    }\r\n    for (var value of data.values()) {\r\n      console.log(value);\r\n    }\r\n    for (var key of data.keys()) {\r\n      console.log(key);\r\n    }\r\n\r\n    // this.setState({ otp: false });\r\n    if (this.state.password === this.state.cnfrmpassword) {\r\n      axiosConfig\r\n        .post(`/user/usersignup`, data)\r\n        .then((response) => {\r\n          console.log(response.data.msg);\r\n          localStorage.setItem(\"auth-token\", response.data.token);\r\n          this.setState({\r\n            // token: response.data.token,\r\n            otpMsg: response.data.otp,\r\n          });\r\n          swal(\"Success!\", \" Register Successful Done!\", \"success\");\r\n          this.props.history.push(\"/\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response.data.message === \"already exists\");\r\n          if (error.response.data.message === \"already exists\") {\r\n            swal(\"user Already register with same mobile and email\");\r\n          }\r\n          // swal(\"Error!\", \"Something went wrong\", \"error\");\r\n        });\r\n    } else swal(\"Password and Confirm password does not match\");\r\n  };\r\n  submitHandler = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ Register: \"wait\" });\r\n    this.handleStartOtpSendReg();\r\n  };\r\n  render() {\r\n    // console.log(this.state.otp);\r\n    return (\r\n      <Fragment>\r\n        <MetaTags>\r\n          <title>AstroVipra</title>\r\n        </MetaTags>\r\n        <LayoutOne headerTop=\"visible\">\r\n          <div id=\"recaptcha-container\"></div>\r\n          <div className=\"login-register-area pt-100 pb-100\">\r\n            <div className=\"container\">\r\n              <div className=\"row d-flex align-items-center justify-content-center\">\r\n                <div className=\"col-lg-7 col-md-12 ml-auto mr-auto\">\r\n                  <div className=\"login-register-wrapper\">\r\n                    <Tab.Container defaultActiveKey=\"login\">\r\n                      <Nav variant=\"pills\" className=\"login-register-tab-list\">\r\n                        <Nav.Item>\r\n                          <Nav.Link eventKey=\"login\">\r\n                            <h4>Login</h4>\r\n                          </Nav.Link>\r\n                        </Nav.Item>\r\n                        <Nav.Item>\r\n                          <Nav.Link eventKey=\"register\">\r\n                            <h4>Register</h4>\r\n                          </Nav.Link>\r\n                        </Nav.Item>\r\n                      </Nav>\r\n                      <Tab.Content>\r\n                        <Tab.Pane eventKey=\"login\">\r\n                          <div className=\"login-form-container\">\r\n                            <div className=\"login-register-form\">\r\n                              <div\r\n                                style={{ color: \"red\" }}\r\n                                id=\"signintext\"\r\n                              ></div>\r\n                              <Form onSubmit={this.loginHandler}>\r\n                                {/* <Form onSubmit={this.onSignInSubmit}> */}\r\n                                <div id=\"sign-in-button\"></div>\r\n                                <Label>Enter Mobile Number *</Label>\r\n                                <Input\r\n                                  type=\"number\"\r\n                                  name=\"mobile\"\r\n                                  maxLength=\"12\"\r\n                                  required\r\n                                  placeholder=\"Enter Your Mobile No.\"\r\n                                  value={this.state.mobile}\r\n                                  onChange={this.changeHandler}\r\n                                />\r\n\r\n                                <Label>Enter Password *</Label>\r\n\r\n                                <Input\r\n                                  type=\"password\"\r\n                                  name=\"L_Password\"\r\n                                  required\r\n                                  placeholder=\"Enter Your Password\"\r\n                                  value={this.state.L_Password}\r\n                                  onChange={this.changeHandler}\r\n                                />\r\n                                <div className=\"button-box\">\r\n                                  <div className=\"login-toggle-btn\"></div>\r\n                                  <button type=\"submit\">\r\n                                    <span>{this.state.loginText}</span>\r\n                                  </button>\r\n                                </div>\r\n                              </Form>\r\n                            </div>\r\n                          </div>\r\n                        </Tab.Pane>\r\n                        {/* Register the user now */}\r\n                        <Tab.Pane eventKey=\"register\">\r\n                          {this.state.RegistrationView ? (\r\n                            <>\r\n                              <div className=\"login-form-container\">\r\n                                <div className=\"login-register-form\">\r\n                                  <Form\r\n                                    className=\"text-center\"\r\n                                    onSubmit={this.submitHandler}\r\n                                    method=\"post\"\r\n                                  >\r\n                                    <Input\r\n                                      type=\"text\"\r\n                                      name=\"fullname\"\r\n                                      required\r\n                                      placeholder=\"Enter Your Fullname\"\r\n                                      value={this.state.fullname}\r\n                                      onChange={this.changeHandler}\r\n                                    />\r\n                                    <Input\r\n                                      type=\"email\"\r\n                                      name=\"email\"\r\n                                      required\r\n                                      placeholder=\"Enter Your Email\"\r\n                                      value={this.state.email}\r\n                                      onChange={this.changeHandler}\r\n                                    />\r\n                                    <Input\r\n                                      type=\"number\"\r\n                                      name=\"mobile\"\r\n                                      maxLength=\"12\"\r\n                                      required\r\n                                      placeholder=\"Enter Your Mobile No.\"\r\n                                      value={this.state.mobile}\r\n                                      onChange={this.changeHandler}\r\n                                    />\r\n                                    <Input\r\n                                      type=\"date\"\r\n                                      name=\"dob\"\r\n                                      required\r\n                                      placeholder=\"Date of birth\"\r\n                                      value={this.state.dob}\r\n                                      onChange={this.changeHandler}\r\n                                    />\r\n                                    <Input\r\n                                      type=\"text\"\r\n                                      name=\"city\"\r\n                                      required\r\n                                      placeholder=\"Enter city\"\r\n                                      value={this.state.city}\r\n                                      onChange={this.changeHandler}\r\n                                    />\r\n                                    <Input\r\n                                      type=\"password\"\r\n                                      name=\"password\"\r\n                                      required\r\n                                      placeholder=\"Enter Password\"\r\n                                      value={this.state.password}\r\n                                      onChange={this.changeHandler}\r\n                                    />\r\n                                    <Input\r\n                                      type=\"password\"\r\n                                      name=\"cnfrmpassword\"\r\n                                      required\r\n                                      placeholder=\"Enter Confirm Password\"\r\n                                      value={this.state.cnfrmpassword}\r\n                                      onChange={this.changeHandler}\r\n                                    />\r\n                                    <Input\r\n                                      required\r\n                                      type=\"select\"\r\n                                      name=\"gender\"\r\n                                      placeholder=\"\"\r\n                                      value={this.state.gender}\r\n                                      onChange={this.changeHandler}\r\n                                    >\r\n                                      <option>Select Gender</option>\r\n                                      <option>Male</option>\r\n                                      <option>Female</option>\r\n                                    </Input>\r\n                                    <Label>User Image</Label>\r\n                                    <Input\r\n                                      type=\"file\"\r\n                                      name=\"userimg\"\r\n                                      onChange={this.onChangeHandler}\r\n                                    />\r\n                                    <div className=\"button-box\">\r\n                                      <Button type=\"submit\">\r\n                                        <span>{this.state.Register}</span>\r\n                                      </Button>\r\n                                    </div>\r\n                                  </Form>\r\n                                </div>\r\n                              </div>\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <div className=\"login-register-form\">\r\n                                <div style={{ color: \"red\" }} id=\"otptext\">\r\n                                  Enter Otp Here\r\n                                </div>\r\n\r\n                                <Form\r\n                                  onSubmit={(e) =>\r\n                                    this.onRegistrationOtpverify(e)\r\n                                  }\r\n                                >\r\n                                  <Input\r\n                                    type=\"number\"\r\n                                    name=\"otp\"\r\n                                    required\r\n                                    placeholder=\"Enter otp\"\r\n                                    value={this.state.otp}\r\n                                    onChange={this.changeHandler}\r\n                                  />\r\n                                  <div className=\"button-box\">\r\n                                    <div className=\"login-toggle-btn\"></div>\r\n                                    <Button\r\n                                      color=\"primary\"\r\n                                      className=\"mt-3\"\r\n                                      type=\"submit\"\r\n                                    >\r\n                                      {/* registration otp verify */}\r\n                                      <span>Verify OTP </span>\r\n                                    </Button>\r\n                                  </div>\r\n                                </Form>\r\n                              </div>\r\n                            </>\r\n                          )}\r\n                        </Tab.Pane>\r\n                      </Tab.Content>\r\n                    </Tab.Container>\r\n                  </div>\r\n                  <>\r\n                    <div className=\"login-form-container\">\r\n                      <div className=\"login-register-form\">\r\n                        <div className=\"button-box\">\r\n                          <div className=\"login-toggle-btn\"></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </LayoutOne>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}